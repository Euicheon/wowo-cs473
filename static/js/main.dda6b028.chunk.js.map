{"version":3,"sources":["firebase.js","main/Stopwatch.jsx","BlueCalendar.png","main/MainPage.jsx","crew/Leaderboard.jsx","crew/ChatBox.jsx","crew/CrewPage.jsx","hunsu/components/Loader.js","hunsu/JSX/Post.jsx","hunsu/JSX/Posts.jsx","calendar/demo_calendar.jpeg","calendar/CalendarPage.jsx","info/InfoPage.jsx","wowo_logo.png","App.js","Login.js","Register.js","hunsu/JSX/Create.jsx","hunsu/JSX/PostDetail.jsx","main/PopUp.jsx","main/Workout.jsx","AppRouter.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","GoogleAuthProvider","styles","exerciseButton","width","height","padding","borderRadius","borderWidth","borderColor","fontSize","fontWeight","color","display","Stopwatch","to","type","className","style","align","textAlign","flexDirection","calendar","margin","MainPage","src","alt","Leaderboard","props","data","crewdata","useState","sdata","setSdata","useEffect","setTimeout","sort","a","b","points","map","item","username","onClick","onSubmit","Chatbox","scrollToBottom","messagesEnd","scrollIntoView","behavior","block","inline","state","chats","React","createRef","database","ref","this","chatRefType","on","snapshot","getChats","val","ascChats","chat","message","push","id","user","date","timestamp","isMe","currentUserName","setState","overflow","Date","float","clear","el","Component","db","firestore","background","position","zIndex","backgroundColor","popup","top","left","CrewPage","setMessage","crew","setCrew","crewList","setCrewList","setChatRefType","showLeaderboard","setShowLeaderboard","setCrewdata","CrewItem","availability","crewSignUp","crewID","alert","members","length","member_limit","CrewListUI","list","updateCrewdata","crewid","userRef","collection","tempcrewdata","doc","get","then","forEach","uid","e","LeaderboardPopup","closePopup","currentUser","update","console","log","catch","error","FieldValue","arrayUnion","querySnapshot","getCrewList","displayName","preventDefault","chatRef","getTime","name","value","onChange","target","placeholder","Loading","styled","div","Loader","Post","title","setTitle","imgPath","setImgPath","undefined","info","handleImgPath","pathname","whoLikes","Posts","posts","setPosts","allPosts","setAllPosts","hasmore","setHasMore","page","setPage","loadPosts","query","fetchPosts","loadLists","currentPage","slice","prev","Button","evt","filteredPosts","filter","post","toLowerCase","includes","scrollableTarget","dataLength","next","hasMore","loader","breakpointCols","default","columnClassName","CalendarPage","InfoPage","fixSize","navigation","App","index","setIndex","Col","lg","md","sm","Navbar","bg","expand","href","logo_img","Toggle","aria-controls","Collapse","Nav","Link","signOut","path","component","BottomNavigation","event","parseInt","showLabels","BottomNavigationAction","label","icon","Home","Forum","Dashboard","DateRange","AccountCircle","borderColot","marginBottom","Login","handleChange","handleSubmit","email","password","signInWithEmailAndPassword","history","htmlFor","children","Register","gender","birth","createUserWithEmailAndPassword","updateProfile","set","profileImgPath","createdAt","Create","setData","file","setFile","previewURL","setPreViewURL","setUserName","rtdb","userdata","increment","writeBoard","boardContent","boardTitle","child","add","writer","content","comments","docRef","window","location","err","profile_preview","accept","reader","FileReader","prevFile","currentFile","files","onloadend","result","storage","put","getDownloadURL","image","readAsDataURL","theme","PostDetail","postId","setPostId","setWriter","setContent","toString","setTimestamp","crewname","setCrewName","expanded","setExpanded","setComments","likeArray","setLikeArray","toUpperCase","toDate","commentArray","tempComment","i","newComment","authorUrl","avatarUrl","fullName","text","commentStyle","btn","base","comment","textarea","Card","CardHeader","avatar","Avatar","subheader","CardActions","disableSpacing","IconButton","aria-label","removedArray","clsx","aria-expanded","in","timeout","unmountOnExit","CardContent","Typography","variant","readOnly","signinUrl","isLoggedIn","commentText","handleComment","upload","border","marginTop","btnShare","btnCancel","PopUp","dh","timeSpent","dm","ds","uploadMessage","h","m","s","duration","formattedDuration","workoutHistory","stopwatch","fontStyle","beforeMargin","afterMargin","doneButton","Workout","setTimeSpent","pop","setPop","seconds","minutes","hours","render","formatted","NavLink","AppRouter","onAuthStateChanged","Container","fluid","Row","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.dda6b028.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nconst firebaseConfig  = {\r\n    apiKey: \"AIzaSyABT6_9hUpFXDFyIcPP-0BughuUygsVNyw\",\r\n    authDomain: \"wowo-cs473.firebaseapp.com\",\r\n    databaseURL: \"https://wowo-cs473.firebaseio.com\",\r\n    projectId: \"wowo-cs473\",\r\n    storageBucket: \"wowo-cs473.appspot.com\",\r\n    messagingSenderId: \"27132694397\",\r\n    appId: \"1:27132694397:web:b0a40d962ba53488ff8614\",\r\n    measurementId: \"G-S0YXCKXKYH\"\r\n};\r\nfirebase.initializeApp(firebaseConfig );\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport default firebase;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  exerciseButton: {\r\n    width: \"150px\",\r\n    height: \"150px\",\r\n    padding: \"10px 10px\",\r\n    borderRadius: \"100px\",\r\n    borderWidth: '2px',\r\n    borderColor: \"#41ABFF\",\r\n    fontSize: '20px',\r\n    fontWeight: 'bold',\r\n    color: '#41ABFF',\r\n    display: 'inline-block',\r\n  },\r\n}\r\n\r\nconst Stopwatch = () => (\r\n  <NavLink to='main/workout'>\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn\"\r\n      style={styles.exerciseButton}\r\n    >\r\n      Exercise!\r\n      </button>\r\n  </NavLink>\r\n);\r\n\r\nexport default Stopwatch;\r\n","export default __webpack_public_path__ + \"static/media/BlueCalendar.03754e7c.png\";","import React from 'react';\r\n\r\nimport Stopwatch from './Stopwatch';\r\nimport calendar from '../BlueCalendar.png';\r\n\r\nconst styles = {\r\n\talign: {\r\n\t\ttextAlign: 'center',\r\n\t\theight: '600px',\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t},\r\n\tcalendar: {\r\n\t\tmargin: '10px 0 50px 0',\r\n\t},\r\n};\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div style={styles.align}>\r\n\t\t\t<div>\r\n\t\t\t\t<img src={calendar} alt='calendar' style={styles.calendar} />\r\n\t\t\t</div>\r\n\t\t\t<Stopwatch />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MainPage;","import React, { useEffect, useState } from 'react';\r\n\r\nconst Leaderboard = (props) => {\r\n    var data = props.crewdata;\r\n    const [sdata, setSdata] = useState(null);\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            data.sort(function (a, b) {\r\n                return a.points < b.points\r\n            });\r\n            setSdata(data);\r\n        }, 300);\r\n    }, [setSdata,data]);\r\n    // console.log(\"!data is :\", sdata);\r\n\r\n    return (\r\n        <div className='leaderboard' style={{textAlign: 'center'}}>\r\n            {sdata &&\r\n                <>\r\n                    <ul>\r\n                        {sdata.map(item => (\r\n                            <li key={item.username}>\r\n                                <div>{item.username} : {item.points}</div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <button onClick={() => props.onSubmit(false)}>Close</button>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Leaderboard;","import React from 'react';\r\nimport firebase from '../firebase';\r\n\r\nimport './ChatBox.css';\r\n\r\nclass Chatbox extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tchats: []\r\n\t\t}\r\n\t\tthis.messagesEnd = React.createRef();\r\n\t}\r\n\t// var messagesEndRef = React.createRef()\r\n\tcomponentDidMount(){\r\n\t\tconst chatRef = firebase.database().ref(this.props.chatRefType);\r\n\t\tchatRef.on('value', snapshot => {\r\n\t\t\tconst getChats = snapshot.val();\r\n\t\t\tlet ascChats = [];\r\n\t\t\tfor(let chat in getChats){\r\n\t\t\t\tif(getChats[chat].message !== ''){\r\n\t\t\t\t\tascChats.push({\r\n\t\t\t\t\t\tid: chat,\r\n\t\t\t\t\t\tmessage: getChats[chat].message,\r\n\t\t\t\t\t\tuser: getChats[chat].user,\r\n\t\t\t\t\t\tdate: getChats[chat].timestamp,\r\n\t\t\t\t\t\tisMe: getChats[chat].user === this.props.currentUserName,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst chats = ascChats;\r\n\t\t\tthis.setState({chats});\r\n\t\t});\r\n\t\tthis.scrollToBottom()\r\n\t}\r\n\tcomponentDidUpdate () {\r\n\t\tthis.scrollToBottom()\r\n\t}\r\n\tscrollToBottom = () => {\r\n\t\tthis.messagesEnd.scrollIntoView({ behavior: \"smooth\" ,block: 'nearest', inline: 'start'});\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"chatbox\" style={{height: '450px', overflow: 'auto'}}>\r\n\t\t\t\t<ul className='chat-list'>\r\n\t\t\t\t\t{this.state.chats.map(chat => {\r\n\t\t\t\t\t\tconst postDate = new Date(chat.date);\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<li key={chat.id}>\r\n\t\t\t\t\t\t\t\t<div className={chat.isMe ? \"mymsg\" : \"othermsg\"}>\r\n\t\t\t\t\t\t\t\t\t{!chat.isMe && \r\n\t\t\t\t\t\t\t\t\t\t<strong>{chat.user+': '}</strong>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{chat.message}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* <em>{postDate.getDate() + '/' + (postDate.getMonth()+1)}</em>\r\n\t\t\t\t\t\t\t\t{chat.message} */}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div style={{ float:\"left\", clear: \"both\" }}\r\n             \t\tref={(el) => { this.messagesEnd = el; }}>\r\n        \t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Chatbox;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from '../firebase';\r\nimport Leaderboard from './Leaderboard';\r\nimport Chatbox from './ChatBox';\r\nimport './CrewPage.css';\r\n\r\nvar db = firebase.firestore();\r\n// var user = firebase.auth().currentUser;\r\n\r\nconst styles = {\r\n\tbackground: {\r\n\t\tposition: 'fixed',\r\n\t\tzIndex: '1',\r\n\t\twidth: '433px',\r\n\t\theight: '600px',\r\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.25)',\r\n\t},\r\n\tpopup: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\tbackgroundColor: 'white',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '20%',\r\n    left: '10%',\r\n    width: '80%',\r\n\t\tpadding: '20px',\r\n\t\tborderRadius: '5px',\r\n\t},\r\n};\r\n\r\n// Set 'general' for real mode.\r\n// Change chatRefType to 'test' for testing mode.\r\n// const chatRefType = 'general' \r\n\r\n\r\nconst CrewPage = (props) => {\r\n\tconst [message, setMessage] = useState('');\r\n\tconst [crew, setCrew] = useState(props.crew);\r\n\tconst [crewList, setCrewList] = useState([]);\r\n\tconst [chatRefType, setChatRefType] = useState('');\r\n\tconst [showLeaderboard, setShowLeaderboard] = useState(false);\r\n\tconst [crewdata, setCrewdata] = useState([]);\r\n\tconst handleChange = e => {\r\n\t\tsetMessage(e.target.value)\r\n\t}\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tif (message !== '') {\r\n\t\t\tconst chatRef = firebase.database().ref(chatRefType);\r\n\t\t\tconst chat = {\r\n\t\t\t\tmessage: message,\r\n\t\t\t\tuser: props.user.displayName,\r\n\t\t\t\ttimestamp: new Date().getTime()\r\n\t\t\t}\r\n\r\n\t\t\tchatRef.push(chat);\r\n\t\t\tsetMessage('');\r\n\t\t}\r\n\t\t// this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n\t}\r\n\r\n\tconst alertPopup = () => {\r\n\t\talert(\"Selected crew is full now!\")\r\n\t}\r\n\r\n\tconst CrewItem = ({ item }) => (\r\n\t\t<article className='mini-card' onClick={() => item.availability ? crewSignUp(item.crewID) : alertPopup()}>\r\n\t\t\t<div>{item.crewID}</div>\r\n\t\t\t<div>{item.members.length} / {item.member_limit} </div>\r\n\t\t</article>\r\n\t);\r\n\r\n\tconst CrewListUI = ({ list }) => (\r\n\t\t<>\r\n\t\t\t{list.map(item => (\r\n\t\t\t\t<CrewItem key={item.crewID} item={item}></CrewItem>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n\r\n\tconst toggleLeaderboard = () => {\r\n\t\tupdateCrewdata(crew);\r\n\t\t// console.log(\"showLeaderboard\", showLeaderboard);\r\n\t}\r\n\r\n\tconst updateCrewdata = (crewid) => {\r\n\t\tconst userRef = db.collection(\"users\");\r\n\t\tvar tempcrewdata = []\r\n\t\tdb.collection(\"crews\").doc(crewid).get()\r\n\t\t\t.then(function (doc) {\r\n\t\t\t\tconst members = doc.data().members;\r\n\t\t\t\tmembers.forEach(function (uid) {\r\n\t\t\t\t\tuserRef.doc(uid).get().then(e =>\r\n\t\t\t\t\t\ttempcrewdata.push({ username: e.data().username, points: e.data().points })\r\n\t\t\t\t\t)\r\n\t\t\t\t});\r\n\t\t\t\tsetCrewdata(tempcrewdata);\r\n\t\t\t\tsetShowLeaderboard(!showLeaderboard);\r\n\t\t\t}\r\n\t\t\t)\r\n\t\t// console.log('hihi', tempcrewdata);\r\n\t}\r\n\t// handleCrewItemClick = e => {\r\n\t// \te.preventDefault();\r\n\t// \tcrewSignUp(e.crewID)\r\n\t// }\r\n\t//리더보드를 팝업으로 구성 -> css에서 팝업 디자인으로 해주면 됨\r\n\tconst LeaderboardPopup = (props) => (\r\n\t\t<div style={styles.background}>\r\n\t\t\t<div style={styles.popup}>\r\n\t\t\t\t<Leaderboard onSubmit={props.closePopup} crewdata={props.crewdata}></Leaderboard>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst crewSignUp = (crewID) => {\r\n\t\t//user의 crew 정보 업데이트\r\n\t\tconst user = firebase.auth().currentUser;\r\n\r\n\t\tdb.collection(\"users\").doc(user.uid).update({\r\n\t\t\tcrew: crewID\r\n\t\t})\r\n\t\t\t.then(function () {\r\n\t\t\t\tconsole.log(\"Document updated\");\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.error(\"Error adding document: \", error);\r\n\t\t\t});\r\n\r\n\t\tvar crewRef = db.collection(\"crews\").doc(crewID);\r\n\t\tcrewRef.update({\r\n\t\t\tmembers: firebase.firestore.FieldValue.arrayUnion(user.uid)\r\n\t\t})\r\n\t\tsetCrew(crewID)\r\n\t\tsetChatRefType(crewID)\r\n\t};\r\n\r\n\t// const getCrewList = () => {\r\n\t// \tvar docRef = db.collection(\"crews\");\r\n\t// \tdocRef.get().then(function (querySnapshot) {\r\n\t// \t\tquerySnapshot.forEach(function (doc) {\r\n\t// \t\t\t// doc.data() is never undefined for query doc snapshots\r\n\t// \t\t\t// console.log(doc.id, \" => \", doc.data());\r\n\t// \t\t\tsetCrewList(crewList.concat({ crewID: doc.data().crewid }))\r\n\t// \t\t});\r\n\t// \t});\r\n\t// };\r\n\tuseEffect(() => {\r\n\t\tconst getCrewList = async () => {\r\n\t\t\tvar docRef = db.collection(\"crews\");\r\n\t\t\tdocRef.get().then(function (querySnapshot) {\r\n\t\t\t\tquerySnapshot.forEach(function (doc) {\r\n\t\t\t\t\t// doc.data() is never undefined for query doc snapshots\r\n\t\t\t\t\tconsole.log(doc.id, \" => \", doc.data());\r\n\t\t\t\t\tvar availability = true;\r\n\t\t\t\t\tif(doc.data().member_limit === doc.data().members.length){\r\n\t\t\t\t\t\tavailability = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetCrewList(crewList => [...crewList,{ crewID: doc.data().crewid, member_limit: doc.data().member_limit ,members: doc.data().members, availability: availability}])\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\tgetCrewList();\r\n\t\tif (props.crew) {\r\n\r\n\t\t\tsetChatRefType(props.crew)\r\n\t\t\tsetCrew(props.crew)\r\n\t\t}\r\n\t\t// console.log('컴포넌트가 화면에 나타남', crew);\r\n\t\treturn () => {\r\n\t\t\t// console.log('컴포넌트가 화면에서 사라짐');\r\n\t\t};\r\n\t},[]);\r\n\t// console.log(\"!@!\",crewList);\r\n\r\n\t// console.log(\"??\", props.crew, crew, props.user.uid, chatRefType)\r\n\tif ((props.crew || crew) && (!chatRefType)) {\r\n\t\tsetChatRefType(props.crew)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"home--container\">\r\n\t\t\t{showLeaderboard &&\r\n\t\t\t\t<LeaderboardPopup\r\n\t\t\t\t\tclosePopup={setShowLeaderboard}\r\n\t\t\t\t\tcrewdata={crewdata}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t{(props.user && (crew || props.crew)) &&\r\n\t\t\t\t<div className=\"allow-chat\">\r\n\t\t\t\t\t<button onClick={toggleLeaderboard}>\r\n\t\t\t\t\t\tGo to Leaderboard\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<Chatbox chatRefType={chatRefType} currentUserName={props.user.displayName} />\r\n\t\t\t\t\t<form className=\"send-chat\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<input type=\"text\" name=\"message\" id=\"message\" value={message} onChange={handleChange} placeholder='Leave a message...' />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{(props.user && !(crew || props.crew)) &&\r\n\t\t\t\t<div className=\"disallow-chat\">\r\n\t\t\t\t\t<CrewListUI list={crewList}></CrewListUI>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{!props.user &&\r\n\t\t\t\t<div className=\"disallow-chat\">\r\n\t\t\t\t\t<p><Link to=\"/login\">Login</Link> or <Link to=\"/register\">Register</Link> to start chatting!</p>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CrewPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Loading = styled.div`\r\ntext-align: center;\r\n.lds-ellipsis {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n.lds-ellipsis div {\r\n  position: absolute;\r\n  top: 33px;\r\n  width: 13px;\r\n  height: 13px;\r\n  border-radius: 50%;\r\n  background: #222;\r\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n}\r\n.lds-ellipsis div:nth-child(1) {\r\n  left: 8px;\r\n  animation: lds-ellipsis1 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(2) {\r\n  left: 8px;\r\n  animation: lds-ellipsis2 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(3) {\r\n  left: 32px;\r\n  animation: lds-ellipsis2 0.6s infinite;\r\n}\r\n.lds-ellipsis div:nth-child(4) {\r\n  left: 56px;\r\n  animation: lds-ellipsis3 0.6s infinite;\r\n}\r\n@keyframes lds-ellipsis1 {\r\n  0% {\r\n    transform: scale(0);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n@keyframes lds-ellipsis3 {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  100% {\r\n    transform: scale(0);\r\n  }\r\n}\r\n@keyframes lds-ellipsis2 {\r\n  0% {\r\n    transform: translate(0, 0);\r\n  }\r\n  100% {\r\n    transform: translate(24px, 0);\r\n  }\r\n}\r\n`;\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <Loading>\r\n      <div className=\"lds-ellipsis\">\r\n        <div>\r\n        </div>\r\n        <div>\r\n        </div>\r\n        <div>\r\n        </div>\r\n        <div>\r\n        </div>\r\n      </div>\r\n    </Loading>\r\n  )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport '../CSS/Post.css';\r\n\r\nconst Post = (props) => {\r\n\r\n    const [title, setTitle] = useState('Default Title');\r\n    const [imgPath, setImgPath] = useState('https://firebasestorage.googleapis.com/v0/b/wowo-cs473.appspot.com/o/wowo_logo.png?alt=media&token=fc8dfa4e-777f-4746-9aa0-cca5268e7008');\r\n\r\n    const handleProps = (data) => {\r\n        if (data.title !== undefined) {setTitle(data.title)};\r\n    }\r\n\r\n    const handleImgPath = (data) => {\r\n        if (data.imgPath !== undefined) {setImgPath(data.imgPath)}\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleProps(props.info.data);\r\n        handleImgPath(props.info.data); \r\n    }, [])\r\n    \r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-12 px-0\">\r\n                <div className=\"rounded-lg overflow-hidden\">\r\n                    <NavLink to={{\r\n                        pathname: '/post/detail',\r\n                        state: props.info}}>\r\n                        <img src={imgPath} alt={props.info.id} className=\"img-fluid\"/>\r\n                    </NavLink>\r\n                    <div className='postDescription'>{title}<span className='postlikes'>♥{props.info.data.whoLikes.length}</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React, {useEffect, useState} from \"react\";\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Masonry from 'react-masonry-css';\r\nimport '../CSS/posts.css'\r\n\r\nimport {Loader} from '../components/Loader';\r\nimport Post from './Post';\r\nimport firebase from '../../firebase';\r\n\r\nimport {Button} from 'react-bootstrap';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Posts = () => {\r\n    \r\n    const [posts, setPosts] = useState([]);\r\n    const [allPosts, setAllPosts] = useState([]);\r\n    const [hasmore, setHasMore] = useState(true);\r\n    const [page, setPage] = useState(0);\r\n\r\n    const breakpointsColumnsObj = {default: 2}\r\n\r\n    useEffect(() => {\r\n        loadPosts();\r\n    }, []);\r\n\r\n    const loadPosts = () => {\r\n        \r\n        var users = firebase.firestore().collection('posts');\r\n        users.get().then(query => {\r\n            \r\n            var fetchPosts = []\r\n            query.forEach(doc => {\r\n                fetchPosts.push({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                });\r\n            });\r\n            \r\n            fetchPosts.sort(function(a, b) { // 오름차순\r\n                return a.data.timestamp > b.data.timestamp ? -1 : a.data.timestamp < b.data.timestamp ? 1 : 0;\r\n            });\r\n\r\n            console.log('ALL : ', fetchPosts)\r\n            setAllPosts(fetchPosts);\r\n\r\n            var currentPage = 10 * page;\r\n            var loadLists;\r\n                \r\n            if (fetchPosts.length >= currentPage+10) {\r\n                loadLists = fetchPosts.slice(currentPage, currentPage+10);\r\n                setPosts((prev) => [...prev, ...loadLists]); \r\n                setPage(prev => prev + 1); \r\n                console.log('loadPosts_IF : ',loadLists);\r\n            } else {\r\n                loadLists = fetchPosts.slice(currentPage)\r\n                setPosts((prev) => [...prev, ...loadLists]); \r\n                setHasMore(false);\r\n                console.log('loadPosts_ELSE : ',loadLists);\r\n            }\r\n        })\r\n    }\r\n\r\n    const onSearchChange = evt => {\r\n        let filteredPosts = allPosts.filter(post => {return post.data.title.toLowerCase().includes(evt.target.value.toLowerCase())})\r\n        setPosts(filteredPosts);\r\n        setHasMore(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className='container-SearchCreate'>\r\n                <div><NavLink to='/post/create'> <Button className=\"createButton\">Create</Button> </NavLink></div>\r\n                <div><input placeholder=\"Search\" className=\"searchBar\" onChange={onSearchChange}/></div>\r\n            </div>\r\n            <div id=\"scrollableDiv\" className='scroll-container'>\r\n                <div className=\"col-md-12\">\r\n                    <InfiniteScroll\r\n                        scrollableTarget=\"scrollableDiv\"\r\n                        dataLength={posts.length}\r\n                        next={loadPosts}\r\n                        hasMore={hasmore}\r\n                        loader={<Loader/>}>\r\n\r\n                        <Masonry\r\n                            breakpointCols={breakpointsColumnsObj} \r\n                            className=\"masonry-grid\" \r\n                            columnClassName=\"masonry-grid_column\">\r\n                            {posts.map((post) => (<Post key={post.id} info={post}/>))}\r\n                        </Masonry>\r\n\r\n                    </InfiniteScroll>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;","export default __webpack_public_path__ + \"static/media/demo_calendar.10b69a79.jpeg\";","import React from 'react';\r\nimport './Calendar.css';\r\nimport calendar from './demo_calendar.jpeg';\r\n\r\nconst styles = {\r\n\talign: {\r\n\t\ttextAlign: 'center',\r\n\t\theight: '600px',\r\n\t\twidth: '100%',\r\n\t},\r\n};\r\n\r\nconst CalendarPage = () => {\r\n\treturn (\r\n\t\t<div style={styles.align} >\r\n\t\t\t<img src={calendar} className=\"calendar_img\" alt='' />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CalendarPage;\r\n","import React from 'react';\r\n\r\nconst styles = {\r\n  align: {\r\n\t\ttextAlign: 'center',\r\n\t\theight: '600px',\r\n    width: '100%',\r\n  },\r\n};\r\n\r\nconst InfoPage = () => {\r\n  return (\r\n    <div style={styles.align}>\r\n      InfoPage\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoPage;","export default __webpack_public_path__ + \"static/media/wowo_logo.207fea00.png\";","import React, { useState } from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport { Col, Navbar, Nav, NavLink } from 'react-bootstrap';\r\n\r\nimport MainPage from './main/MainPage';\r\nimport CrewPage from './crew/CrewPage';\r\nimport Posts from './hunsu/JSX/Posts';\r\nimport CalendarPage from './calendar/CalendarPage';\r\nimport InfoPage from './info/InfoPage';\r\nimport { BottomNavigation, BottomNavigationAction } from '@material-ui/core';\r\nimport {\r\n  Home,\r\n  Forum,\r\n  Dashboard,\r\n  DateRange,\r\n  AccountCircle,\r\n} from '@material-ui/icons'\r\nimport firebase from './firebase';\r\n\r\nimport './App.css';\r\nimport logo_img from './wowo_logo.png';\r\n\r\nvar db = firebase.firestore();\r\n\r\nconst styles = {\r\n  fixSize: {\r\n    height: '600px',\r\n    // width: '350px',\r\n  },\r\n  navigation: {\r\n    backgroundColor: '#EEEEEE',\r\n  }\r\n};\r\n\r\nconst App = (props) => {\r\n  const [crew, setCrew] = useState(null);\r\n  const [index, setIndex] = useState(props.index || 0);\r\n\r\n  const handleChange = (event, value) => {\r\n    setIndex(parseInt(value))\r\n  };\r\n\r\n  // const handleChangeIndex = (value) => {\r\n  //   setIndex(value)\r\n  // };\r\n\r\n  const crewValidity = (uid) => {\r\n    var docRef = db.collection(\"users\").doc(uid);\r\n    docRef.get().then(function (doc) {\r\n      if (doc.data().crew != null) {\r\n        setCrew(doc.data().crew)\r\n      } else {\r\n        // doc.data() will be undefined in this case\r\n        // console.log(doc);\r\n        console.log(\"No such document!\");\r\n      }\r\n    }).catch(function (error) {\r\n      console.log(\"Error getting document:\", error);\r\n    });\r\n  }\r\n  // console.log(\"beforeUSE\",props)\r\n  // useEffect(() => {\r\n  //   // const user = firebase.auth().currentUser;\r\n  //   // crewValidity(props.user.uid);\r\n  // \tconsole.log('컴포넌트가 화면에 나타남',props);\r\n  // \treturn () => {\r\n  // \t  console.log('컴포넌트가 화면에서 사라짐');\r\n  // \t};\r\n  //   }, []);]\r\n  if (props.user) {\r\n    crewValidity(props.user.uid)\r\n  }\r\n  // console.log(\"afterUSE\",props)\r\n  return (\r\n    <>\r\n      {props.user &&\r\n        <Col lg={3.5} md={5.5} sm={7.5}>\r\n          <Navbar bg=\"light\" expand=\"sm\" align=\"center\" className=\"navbar-custom\">\r\n            {/* <Navbar.Brand>wowo</Navbar.Brand> */}\r\n            <a className=\"navbar-brand\" href=\"/\">\r\n              <div className=\"logo-image\">\r\n                <img src={logo_img} className=\"img-fluid\" />\r\n              </div>\r\n            </a>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\" style={{ flexDirection: 'row', }}>\r\n              <Nav className=\"ml-auto\">\r\n                <Nav.Link onClick={() => firebase.auth().signOut()} href=\"/login\">Logout</Nav.Link>\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n\r\n          <Route path=\"/main\" component={MainPage} />\r\n          <Route path=\"/crew\" component={() => <CrewPage user={props.user} crew={crew} />} />\r\n          <Route path=\"/hunsu\" component={Posts} />\r\n          <Route path=\"/calendar\" component={CalendarPage} />\r\n          <Route path=\"/info\" component={InfoPage} />\r\n\r\n          <BottomNavigation style={styles.navigation} value={index} onChange={handleChange} showLabels>\r\n            <BottomNavigationAction component={Link} to=\"/main\" label=\"Main\" value=\"0\" icon={<Home />} />\r\n            <BottomNavigationAction component={Link} to=\"/crew\" label=\"Crew\" value=\"1\" icon={<Forum />} />\r\n            <BottomNavigationAction component={Link} to=\"/hunsu\" label=\"Hunsu\" value=\"2\" icon={<Dashboard />} />\r\n            <BottomNavigationAction component={Link} to=\"/calendar\" label=\"Calendar\" value=\"3\" icon={<DateRange />} />\r\n            <BottomNavigationAction component={Link} to=\"/info\" label=\"Profile\" value=\"4\" icon={<AccountCircle />} />\r\n          </BottomNavigation>\r\n        </Col>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport firebase from './firebase'\r\nimport './Auth.css';\r\n\r\nconst styles = {\r\n  fixSize: {\r\n    height: '600px',\r\n    width: '350px',\r\n    borderColot: 'black',\r\n  },\r\n  margin: {\r\n\t\tmarginBottom: '40px',\r\n\t},\r\n}\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      error: null\r\n    }\r\n  }\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(user => {\r\n        this.props.history.push('/main');\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n    return (\r\n      <div className=\"auth--container\" style={styles.fixSize}>\r\n        <h2 style={styles.margin}>Login your account</h2>\r\n        {error && <p className=\"error-message\">{error.message}</p>}\r\n        <form onSubmit={this.handleSubmit}>\r\n          {/* <label htmlFor=\"username\">Username</label> */}\r\n          {/* <input type=\"text\" name=\"username\" id=\"username\" value={username} onChange={this.handleChange} /> */}\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input type=\"text\" name=\"email\" id=\"email\" value={email} onChange={this.handleChange} />\r\n          <label htmlFor=\"password\">Enter password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            style={styles.margin}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button className=\"general-submit\" style={styles.margin} children=\"Get Started\" />\r\n          <p>Don't have an account? <Link className=\"register-btn\" to=\"/register\">Register here</Link></p>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;","import React from 'react';\r\nimport firebase from './firebase'\r\nimport { Link } from 'react-router-dom';\r\nimport './Auth.css';\r\n\r\n//firestore userDB 등록\r\nvar db = firebase.firestore();\r\n\r\nconst styles = {\r\n\tfixSize: {\r\n\t\theight: '600px',\r\n    width: '350px',\r\n    borderColot: 'black',\r\n\t},\r\n\tmargin: {\r\n\t\tmarginBottom: '40px',\r\n\t},\r\n};\r\n\r\nclass Register extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tgender: '',\r\n\t\t\tbirth: '',\r\n\t\t\terror: null\r\n\t\t}\r\n\t}\r\n\thandleChange = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t}\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst { email, username, password, gender, birth } = this.state;\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst user = firebase.auth().currentUser;\r\n\t\t\t\tuser\r\n\t\t\t\t\t.updateProfile({ displayName: username })\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tdb.collection(\"users\").doc(user.uid).set({\r\n\t\t\t\t\t\t\tusername: username,\r\n\t\t\t\t\t\t\temail: email,\r\n\t\t\t\t\t\t\tgender: gender,\r\n\t\t\t\t\t\t\tbirth: birth,\r\n\t\t\t\t\t\t\tprofileImgPath: '/ProfileImg/demoProfile.png',\r\n\t\t\t\t\t\t\tcrew: null,\r\n\t\t\t\t\t\t\tpoints: 0,\r\n\t\t\t\t\t\t\tcreatedAt: new Date(),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Document written\");\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\t\t\tconsole.error(\"Error adding document: \", error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.props.history.push('/main');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tthis.setState({ error });\r\n\t\t\t\t\t});\r\n\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst { email, username, password, gender, birth, error } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"auth--container\" style={styles.fixSize}>\r\n\t\t\t\t<h2 style={styles.margin}>Register your account</h2>\r\n\t\t\t\t{error && <p className=\"error-message\">{error.message}</p>}\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t<input type=\"text\" name=\"username\" id=\"username\" value={username} onChange={this.handleChange} />\r\n\t\t\t\t\t<label htmlFor=\"email\">Email address</label>\r\n\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" value={email} onChange={this.handleChange} />\r\n\t\t\t\t\t<label htmlFor=\"password\">Choose a password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tstyle={styles.margin}\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"gender\">Gender</label>\r\n\t\t\t\t\t{/* <input type=\"text\" name=\"gender\" id=\"gender\" value={gender} onChange={this.handleChange} /> */}\r\n\t\t\t\t\t<select value={gender} onChange={this.handleChange}>\r\n\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t<label htmlFor='birth'>Birth (YYMMDD)</label>\r\n\t\t\t\t\t<input type=\"text\" name=\"birth\" id=\"birth\" value={birth} onChange={this.handleChange} />\r\n\r\n\t\t\t\t\t<button className=\"general-submit\" style={styles.margin} children=\"Get Started\" />\r\n\t\t\t\t\t<p>Already have an account? <Link className=\"login-btn\" to=\"/login\">Login here</Link></p>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Register;\r\n","import React, {useState} from \"react\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.bubble.css';\r\nimport '../CSS/create.css';\r\nimport firebase from '../../firebase';\r\n\r\nconst Create = () => {\r\n\r\n    const [data, setData] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [file, setFile] = useState('');\r\n    const [previewURL, setPreViewURL] = useState('');\r\n    const [username, setUserName] = useState('');\r\n    const [imgPath, setImgPath] = useState('https://firebasestorage.googleapis.com/v0/b/wowo-cs473.appspot.com/o/wowo_logo.png?alt=media&token=fc8dfa4e-777f-4746-9aa0-cca5268e7008');\r\n\r\n    const rtdb = firebase.database();\r\n    const db = firebase.firestore();\r\n    const user = firebase.auth().currentUser;\r\n\r\n    db.collection('users').doc(user.uid).get().then(userdata => {\r\n      console.log('user : ',userdata.data().username);\r\n      setUserName(userdata.data().username);\r\n    })\r\n    \r\n    const increment = firebase.firestore.FieldValue.increment(2);\r\n\r\n    const writeBoard = async () => {\r\n\r\n        const boardTitle = title;\r\n        const boardContent = data;\r\n    \r\n        if (boardTitle === undefined || boardTitle === \"\") {\r\n          alert(\"Write the title\");\r\n          return;\r\n        }\r\n\r\n        db.collection(\"users\").doc(user.uid).get().then(doc => {\r\n\r\n          db.collection('users').doc(user.uid).update({\r\n            points: increment\r\n          })\r\n\r\n          rtdb.ref().child(doc.data().crew).push({\r\n              message: username + \" wrote a new post / \" + 'Title : ' + title,\r\n              user: 'system',\r\n              timestamp: new Date().getTime()\r\n            })\r\n          })\r\n          .catch(function (error) {\r\n            console.error(\"Error getting document: \", error);\r\n          });\r\n\r\n        const posts = firebase.firestore().collection('posts');\r\n        posts.add({\r\n            writer: username,\r\n            title: boardTitle,\r\n            content: boardContent,\r\n            imgPath: imgPath,\r\n            timestamp: new Date(),\r\n            whoLikes: [],\r\n            comments: []\r\n        }).then(docRef => {\r\n            console.log('New Post Created : ', docRef.id)\r\n            alert('You got 2 points!');\r\n            window.location.href = \"/hunsu\";\r\n          }).catch(err => {\r\n            console.log('New Posting Failed : ',err)\r\n            alert(\"Posting Failed\");\r\n          })\r\n    };\r\n\r\n    const handleTitleChange = evt => {setTitle(evt.target.value)};\r\n\r\n    const handleFileOnChange = evt => {\r\n      evt.preventDefault();\r\n      let reader = new FileReader();\r\n      let prevFile = file;\r\n      let currentFile = evt.target.files[0];\r\n      reader.onloadend = () => {\r\n        setFile(currentFile);\r\n        setPreViewURL(reader.result);\r\n\r\n        const storageRef = firebase.storage().ref('postImages');\r\n        storageRef.child(currentFile.name).put(currentFile).then(snapshot => {\r\n          snapshot.ref.getDownloadURL().then(image => {\r\n            setImgPath(image)\r\n          });\r\n        })\r\n      }\r\n\r\n      if (currentFile!==undefined) {reader.readAsDataURL(currentFile);}\r\n      else {\r\n        setFile(prevFile);\r\n        alert(\"Canceled changing image\");\r\n        console.log(file)\r\n      }\r\n    }\r\n\r\n    let profile_preview = null;\r\n    if (file !== '') {profile_preview = <img className='profile_preview' src={previewURL} alt={title} />}\r\n    else {profile_preview = <div className='empty'> <br/> <br/> Click to upload image</div>}\r\n\r\n    return (\r\n      <div className=\"create\">\r\n        <h4>Create New Posts!</h4>\r\n        <h5 className='description'>Title</h5>\r\n          <input\r\n            type=\"text\"\r\n            className='title'\r\n            onChange={handleTitleChange}\r\n          />\r\n          \r\n          <div>\r\n          <h5 className='description'>Image</h5>\r\n            <label htmlFor=\"input\" className=\"img-holder\">\r\n                {profile_preview}      \r\n            </label>\r\n              <input id ='input' type='file' accept='image/jpg, image/png, image/jpeg, image/gif' name='image-upload' onChange={handleFileOnChange}/>\r\n            \r\n            <h5 className='description'>Content</h5>\r\n            <ReactQuill theme=\"bubble\" className='editor' value={data} onChange={setData}/>\r\n          </div>\r\n            \r\n          <div className='buttonContainer'>\r\n            <Button onClick={writeBoard} className='button'> Save </Button>\r\n            <NavLink to='/hunsu'> <Button className='button'> Quit </Button> </NavLink>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Create;","import React, {useState, useEffect} from 'react';\r\nimport '../CSS/PostDetail.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport clsx from 'clsx';\r\n\r\nimport ReactQuill from 'react-quill';\r\nimport CommentsBlock from 'simple-react-comments';\r\nimport firebase from '../../firebase';\r\n\r\nconst PostDetail = (props) => {\r\n\r\n    const styles = {\r\n        height: '600px',\r\n        width: '350px',\r\n        borderColot: 'black',\r\n    }\r\n\r\n    const [postId, setPostId] = useState(''); \r\n    const [writer, setWriter] = useState('');  \r\n    const [title, setTitle] = useState(''); \r\n    const [content, setContent] = useState(''); \r\n    const [imgPath, setImgPath] = useState(''); \r\n    const [timestamp, setTimestamp] = useState((new Date()).toString()); \r\n    const [username, setUserName] = useState('');\r\n    const [crewname, setCrewName] = useState('');\r\n\r\n    const [expanded, setExpanded] = useState(false);\r\n    const [comments, setComments] = useState([]);\r\n    const [likeArray, setLikeArray] = useState([]);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const posts = firebase.firestore().collection(\"posts\");\r\n\r\n    const parsePost = () => {\r\n\r\n        firebase.firestore().collection('users').doc(firebase.auth().currentUser.uid).get().then(userdata => {\r\n            console.log('user : ',userdata.data().username);\r\n            setUserName(userdata.data().username);\r\n            setCrewName(userdata.data().crew);\r\n        })\r\n\r\n        posts.doc(props.location.state.id).get().then(post => {\r\n            \r\n            setPostId(post.id);\r\n            setWriter(post.data().writer[0].toUpperCase());\r\n            setTitle(post.data().title);\r\n            setContent(post.data().content);\r\n            setImgPath(post.data().imgPath);\r\n            setTimestamp(post.data().timestamp.toDate().toString().slice(0,15));\r\n            setLikeArray(post.data().whoLikes);\r\n            \r\n            const commentArray = post.data().comments;\r\n\r\n            for (var i = 0; i < commentArray.length; i++) {\r\n                const tempComment = commentArray[i];\r\n                const newComment = {\r\n                    authorUrl: tempComment.authorUrl,\r\n                    avatarUrl: tempComment.avatarUrl,\r\n                    createdAt: tempComment.createdAt.toDate(),\r\n                    fullName: tempComment.fullName,\r\n                    text: tempComment.text\r\n                }\r\n                setComments(prev => [ ...prev, newComment]);\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleLike = () => {\r\n        console.log('push like : ', username);\r\n        posts.doc(props.location.state.id).update({\r\n            whoLikes: [...likeArray, username]\r\n          });\r\n        setLikeArray(prev => [...prev, username]);\r\n    }\r\n\r\n    const cancelLike = () => {\r\n\r\n        var removedArray = likeArray.filter(item => {return item !== username})\r\n        console.log('Removed ARRAY: ',removedArray)\r\n        \r\n        setLikeArray(removedArray);\r\n        posts.doc(props.location.state.id).update({\r\n            whoLikes: removedArray\r\n        });\r\n    }\r\n\r\n    const handleComment = (commentText) => {\r\n\r\n        var newComment = {\r\n            authorUrl: 'https://firebasestorage.googleapis.com/v0/b/wowo-cs473.appspot.com/o/amongus.jpg?alt=media&token=8bf3207b-2603-4f17-9350-09b852858a51',\r\n            avatarUrl: 'https://firebasestorage.googleapis.com/v0/b/wowo-cs473.appspot.com/o/amongus.jpg?alt=media&token=8bf3207b-2603-4f17-9350-09b852858a51',\r\n            createdAt: new Date(),\r\n            fullName: username + ' - ' + crewname,\r\n            text: commentText\r\n        }\r\n\r\n        setComments([ ...comments, newComment]);\r\n        posts.doc(props.location.state.id).update({\r\n            comments: [...comments, newComment]\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        parsePost()\r\n    }, []);\r\n\r\n    const commentStyle = {// Use base styles of btn and override background to red\r\n        btn: base => ({\r\n            ...base,\r\n            background: '#123456',\r\n        }),\r\n        comment: base => ({ \r\n            ...base,\r\n\r\n        }),\r\n        textarea: base => ({ \r\n            ...base\r\n        }),\r\n    }\r\n\r\n    return ( \r\n        <div style={styles}>\r\n            <Card className='root'>\r\n                <CardHeader\r\n                    avatar={<Avatar className='avatar'> {writer} </Avatar>}\r\n                    title={<span className='title'>{title}</span>}\r\n                    subheader={<span className='createdAt'>{<div><span className='postdetailcrewname'>{crewname}</span><div className='postdetailtimestamp'>{timestamp}</div></div>}</span>}\r\n                />\r\n                <img src={imgPath} alt={postId} className=\"img-fluid\"/>\r\n                <CardActions disableSpacing>\r\n                    {likeArray.includes(username) \r\n                    ?   <IconButton aria-label=\"remove from favorites\" onClick={cancelLike}> \r\n                            <FavoriteIcon/>\r\n                        </IconButton>\r\n                    \r\n                    :   <IconButton aria-label=\"add to favorites\" onClick={handleLike}> \r\n                            <FavoriteBorderIcon/>\r\n                        </IconButton>}\r\n                    {likeArray.length}\r\n                    <IconButton className={clsx('expand', {'expandOpen': expanded})} onClick={handleExpandClick} aria-expanded={expanded} aria-label=\"show more\">\r\n                        <ExpandMoreIcon/>\r\n                    </IconButton>\r\n                </CardActions>\r\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <CardContent>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        <ReactQuill theme=\"bubble\" className='editor' value={content} readOnly={true}/>\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Collapse>\r\n            </Card>\r\n\r\n            <div className='commentBlock' style={{height: '300px', width : '100%', overflow:'auto'}}>\r\n                <div className='realcomments'>\r\n                    <CommentsBlock \r\n                    comments={comments}\r\n                    signinUrl={'/login'}\r\n                    isLoggedIn={true}\r\n                    styles={commentStyle}\r\n                    onSubmit={commentText => {\r\n                        if (commentText.length > 0) { handleComment(commentText)\r\n                        console.log('submit:', commentText);\r\n                        } else {\r\n                            alert('No comments written');\r\n                        }\r\n                    }}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostDetail;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nimport firebase from '../firebase';\r\n\r\nconst styles = {\r\n  background: {\r\n    position: 'fixed',\r\n    zIndex: '1',\r\n    width: '400px',\r\n\t\theight: '700px',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.25)',\r\n    textAlign: 'center',\r\n  },\r\n  popup: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    backgroundColor: 'white',\r\n    position: 'absolute',\r\n    top: '20%',\r\n    left: '10%',\r\n    width: '80%',\r\n    padding: '20px',\r\n    borderRadius: '5px',\r\n  },\r\n  upload: {\r\n    border: '1px solid lightGrey',\r\n    padding: '10px 10px 10px 10px',\r\n    marginTop: '10px',\r\n    marginBottom: '10px',\r\n    backgroundColor: '#EEEEEE',\r\n  },\r\n  btnShare: {\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    marginBottom: '5px',\r\n    background: '#41ABFF',\r\n    borderColor: 'none',\r\n    color: 'white',\r\n  },\r\n  btnCancel: {\r\n    width: '100%',\r\n    background: 'white',\r\n    borderColor: '#41ABFF',\r\n    color: '#41ABFF',\r\n  },\r\n}\r\n\r\nvar db = firebase.firestore();\r\nvar rtdb = firebase.database();\r\n\r\nconst PopUp = (props) => {\r\n  const user = firebase.auth().currentUser;\r\n  const dh = parseInt(props.timeSpent / 1000 / 60 / 60);\r\n  const dm = parseInt(props.timeSpent / 1000 / 60);\r\n  const ds = parseInt(props.timeSpent / 1000);\r\n  const formattedDuration = (h, m, s) => {\r\n    var duration = s + \" sec.\";\r\n    if (h === 0 && m === 0) {\r\n      return duration\r\n    }\r\n    if (h === 0) {\r\n      return m + \" min \" + duration\r\n    }\r\n    return h + \" hour \" + m + \" min \" + duration\r\n  }\r\n\r\n\r\n  const uploadMessage =\r\n    \"[SYSTEM] \" + user.displayName + \" worked out for \" + formattedDuration(dh, dm, ds)\r\n\r\n  const onShare = () => {\r\n    props.handleSubmit(false)\r\n    console.log(\"this is props: \", props)\r\n    // 소속 crew에 운동기록 올리고 이동\r\n    db.collection(\"users\").doc(user.uid).update({\r\n      workoutHistory: firebase.firestore.FieldValue.arrayUnion(\r\n        { timestamp: props.timestamp, duration: props.timeSpent })\r\n    })\r\n      .then(() => {\r\n        db.collection(\"users\").doc(user.uid).get()\r\n          .then((doc) => {\r\n            console.log(\"find it!: \", doc.data())\r\n            // 해당 crew real-time db 에 운동기록 메세지 추가\r\n            rtdb.ref().child(doc.data().crew).push({\r\n              message: uploadMessage,\r\n              user: 'system',\r\n              timestamp: new Date().getTime()\r\n            })\r\n          })\r\n          .catch(function (error) {\r\n            console.error(\"Error getting document: \", error);\r\n          });\r\n        console.log(\"Adding document\");\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n\r\n\r\n  }\r\n  const onCancel = () => {\r\n    props.handleSubmit(false)\r\n    console.log(\"this is props: \", props)\r\n\r\n    const user = firebase.auth().currentUser;\r\n\r\n    db.collection(\"users\").doc(user.uid).update({\r\n      workoutHistory: firebase.firestore.FieldValue.arrayUnion(\r\n        { timestamp: props.timestamp, duration: props.timeSpent })\r\n    })\r\n      .then(function () {\r\n        console.log(\"Adding document\");\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div style={styles.background}>\r\n      <div style={styles.popup}>\r\n        <h2>Great Job!</h2>\r\n        <div>Would you share this exercise record with your Crew?</div>\r\n        <div style={styles.upload}>{uploadMessage}</div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', }}>\r\n          <NavLink to=\"/crew\"><Button style={styles.btnShare} onClick={onShare}>Share</Button></NavLink>\r\n          <NavLink to=\"/main\"><Button style={styles.btnCancel} onClick={onCancel}>Cancel</Button></NavLink>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopUp;","import React, { useState } from 'react';\r\nimport { NavLink, Col } from 'react-bootstrap';\r\nimport ReactStopwatch from 'react-stopwatch';\r\n\r\nimport PopUp from './PopUp';\r\n\r\nconst styles = {\r\n  stopwatch: {\r\n    fontStyle: 'italic',\r\n    fontSize: '50px',\r\n    fontWeight: 'bold',\r\n    marginTop: '200px',\r\n  },\r\n  beforeMargin: {\r\n    marginTop: '20vh',\r\n  },\r\n  afterMargin: {\r\n    marginTop: '50vh',\r\n  },\r\n  doneButton: {\r\n    width: \"150px\",\r\n    height: \"150px\",\r\n    padding: \"10px 10px\",\r\n    borderRadius: \"100px\",\r\n    borderWidth: '2px',\r\n    backgroundColor: \"#41ABFF\",\r\n    fontSize: '20px',\r\n    fontWeight: 'bold',\r\n    fontStyle: 'italic',\r\n    color: '#FFFFFF',\r\n  },\r\n  fixSize: {\r\n    height: '600px',\r\n    width: '100%',\r\n    textAlign: 'center',\r\n  },\r\n}\r\n\r\nconst Workout = (props) => {\r\n  const [timeSpent, setTimeSpent] = useState(0);\r\n  const [pop, setPop] = useState(false);\r\n  const timestamp = new Date().getTime();\r\n\r\n  const onClick = () => {\r\n    setPop(true);\r\n    setTimeSpent(new Date().getTime() - timestamp);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Col lg={4} md={6} sm={8}>\r\n        <div style={styles.fixSize}>\r\n          {!pop &&\r\n            <ReactStopwatch\r\n              seconds={0}\r\n              minutes={0}\r\n              hours={0}\r\n              render={({ formatted }) => (<div style={styles.stopwatch}>{formatted}</div>)}\r\n            />\r\n          }\r\n          <NavLink to=\"/main\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn\"\r\n              style={!pop ? {...styles.doneButton, ...styles.beforeMargin} : {...styles.doneButton, ...styles.afterMargin}}\r\n              onClick={onClick}\r\n            >\r\n              Done!\r\n        </button>\r\n          </NavLink>\r\n        </div>\r\n      </Col>\r\n      {\r\n        pop &&\r\n        <PopUp handleSubmit={setPop} timestamp={timestamp} timeSpent={timeSpent} />\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Workout;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport { auth } from './firebase.js'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from './App';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Create from './hunsu/JSX/Create';\r\nimport PostDetail from './hunsu/JSX/PostDetail';\r\nimport Workout from './main/Workout';\r\n\r\nclass AppRouter extends React.Component {\r\n\t//Add Contstructor to AppRouter component\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { user: null }\r\n\t}\r\n\t//Add componentDidMount lifecycle\r\n\tcomponentDidMount() {\r\n\t\tauth.onAuthStateChanged(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({ user });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Router>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Row className=\"justify-content-sm-center\">\r\n\t\t\t\t\t\t{this.state.user &&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/post/create\" exact component={Create}></Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/post/detail\" exact component={PostDetail}></Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/main/workout\" exact component={Workout} />\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/\" render={() => <App user={this.state.user} index={this.props.index} />} />\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{!this.state.user &&\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/register\" exact component={Register} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/\" exact component={Login} />\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Router >\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './hunsu/CSS/masonry.css'\r\nimport AppRouter from './AppRouter';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <AppRouter />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}